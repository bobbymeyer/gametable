<div class="flex items-center justify-between mb-4">
  <h2 class="text-xl font-semibold text-stone-900 dark:text-white">Locations</h2>
  <% if @series.producer?(current_user) %>
    <%= link_to "New location", new_series_location_path(@series), class: "bg-amber-500 px-4 py-2 text-sm font-semibold text-stone-950 hover:bg-amber-400 transition-colors" %>
  <% end %>
</div>

<% if @series.locations.any? %>
  <ul class="space-y-3">
    <% @series.locations.each do |location| %>
      <li class="border border-stone-200 dark:border-stone-700 bg-stone-100 dark:bg-stone-900/50 p-3 flex items-center justify-between gap-4">
        <div class="min-w-0 flex-1">
          <%= link_to location.name, edit_location_path(location), class: "font-medium text-amber-600 dark:text-amber-400 hover:text-amber-500 dark:hover:text-amber-300" %>
          <% if location.backdrop.attached? %>
            <span class="ml-2 text-xs text-stone-500 dark:text-stone-400">(backdrop)</span>
          <% end %>
        </div>
        <% if @series.producer?(current_user) %>
          <%= button_to "Delete", location_path(location), method: :delete, data: { turbo_confirm: "Are you sure?" }, class: "border border-stone-400 dark:border-stone-600 px-2 py-1 text-xs font-medium text-stone-700 dark:text-stone-300 hover:bg-stone-200 dark:hover:bg-stone-800/50 transition-colors" %>
        <% end %>
      </li>
    <% end %>
  </ul>
<% else %>
  <p class="text-stone-600 dark:text-stone-400">
    No locations yet.
    <% if @series.producer?(current_user) %>
      <%= link_to "Add one", new_series_location_path(@series), class: "text-amber-600 dark:text-amber-400 hover:text-amber-500 dark:hover:text-amber-300" %>.
    <% end %>
  </p>
<% end %>
